<!doctype html>
<html class="no-js" lang="de">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="language" content="German">
    <title>Serverless Frameworks</title>
    <link rel="icon" type="image/png" sizes="32x32" href="https://dzhw-charts/assets/images/favicon.ico?v=1.0.0">
    <link rel="stylesheet" href="https://dzhw-charts/assets/styles/main.css?v=1.0.0">
    <script src="https://dzhw-charts/assets/scripts/apexcharts.js?v=1.0.0"></script>
    <script src="https://dzhw-charts/assets/scripts/jquery.min.js?v=1.0.0"></script>
</head>
<body class="m0 hvr fw4 ">
<div class="c pt65">
    <header class="pt10 pf zi3 w100p pt0 pl0 df bg4">
        <div class="fg df jcc">
            <ul class="pagination">
                <li class="jcc">
                    <a></a>
                    <a id="page1" class="page-item page-numbers cp" href="index.html?page=1"></a>
                    <a id="page2" class="page-item page-numbers cp" href="index.html?page=2"></a>
                    <a id="page3" class="page-item page-numbers cp" href="index.html?page=3"></a>
                    <a id="page4" class="page-item page-numbers cp" href="index.html?page=4"></a>
                    <a></a>
                </li>
            </ul>
        </div>
    </header>
    <h2 id="title" class="c5 pb5">Fibonacci</h2>
    <h3>Single</h3>
    <div class="pt15 pb15" id="chart-1"></div>
    <h3>Multiple</h3>
    <div class="pt15 pb15" id="chart-2"></div>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        let myParam = urlParams.get('page');
        if (!myParam) {
            myParam = "1";
        }
        if (myParam === "1") {
            $('#title').html('Fibonacci');
            $('#page'+myParam).addClass('current');
            let fissionSingle = [perSec(164535), perSec(189979), perSec(181058)];
            fissionSingle[3] = avg(fissionSingle);
            // let knativeSingle = [0, 0, 0];
            let knativeSingle = [perSec(96755), perSec(95258), perSec(168451)]; // Dummy
            knativeSingle[3] = avg(knativeSingle);
            let nuclioSingle = [perSec(72936), perSec(74749), perSec(74221)];
            nuclioSingle[3] = avg(nuclioSingle);
            let openFaaSSingle = [perSec(62619), perSec(64819), perSec(64690)];
            openFaaSSingle[3] = avg(openFaaSSingle);
            // let openWhiskSingle = [0, 0, 0];
            let openWhiskSingle = [perSec(196), perSec(258), perSec(0)]; // Dummy
            openWhiskSingle[3] = avg(openWhiskSingle);
            renderChart("#chart-1", fissionSingle, knativeSingle, nuclioSingle, openFaaSSingle, openWhiskSingle);
            let fissionMultiple = [perSec(52215), perSec(50143), perSec(52799)];
            fissionMultiple[3] = avg(fissionMultiple);
            // let knativeMultiple = [0, 0, 0];
            let knativeMultiple = [perSec(96755), perSec(95258), perSec(168451)]; // Dummy
            knativeMultiple[3] = avg(knativeMultiple);
            let nuclioMultiple = [perSec(72942), perSec(75073), perSec(75260)];
            nuclioMultiple[3] = avg(nuclioMultiple);
            let openFaaSMultiple = [perSec(0), perSec(0), perSec(0)];
            openFaaSMultiple[3] = avg(openFaaSMultiple);
            // let openWhiskMultiple = [0, 0, 0];
            let openWhiskMultiple = [perSec(196), perSec(258), perSec(0)]; // Dummy
            openWhiskMultiple[3] = avg(openWhiskMultiple);
            renderChart("#chart-2", fissionMultiple, knativeMultiple, nuclioMultiple, openFaaSMultiple, openWhiskMultiple);
        }
        if (myParam === "2") {
            $('#title').html('Quicksort');
            $('#page'+myParam).addClass('current');
            let fissionSingle = [perSec(466268), perSec(486491), perSec(447785)];
            fissionSingle[3] = avg(fissionSingle);
            // let knativeSingle = [0, 0, 0];
            let knativeSingle = [perSec(172051), perSec(188540), perSec(276365)]; // Dummy
            knativeSingle[3] = avg(knativeSingle);
            let nuclioSingle = [perSec(563669), perSec(571332), perSec(567964)];
            nuclioSingle[3] = avg(nuclioSingle);
            let openFaaSSingle = [perSec(77954), perSec(77019), perSec(78058)];
            openFaaSSingle[3] = avg(openFaaSSingle);
            // let openWhiskSingle = [0, 0, 0];
            let openWhiskSingle = [perSec(0), perSec(142), perSec(561)]; // Dummy
            openWhiskSingle[3] = avg(openWhiskSingle);
            renderChart("#chart-1", fissionSingle, knativeSingle, nuclioSingle, openFaaSSingle, openWhiskSingle);
            let fissionMultiple = [perSec(408909), perSec(537872), perSec(506632)];
            fissionMultiple[3] = avg(fissionMultiple);
            // let knativeMultiple = [0, 0, 0];
            let knativeMultiple = [perSec(172051), perSec(188540), perSec(276365)]; // Dummy
            knativeMultiple[3] = avg(knativeMultiple);
            let nuclioMultiple = [perSec(581403), perSec(575760), perSec(565710)];
            nuclioMultiple[3] = avg(nuclioMultiple);
            let openFaaSMultiple = [perSec(0), perSec(0), perSec(0)];
            openFaaSMultiple[3] = avg(openFaaSMultiple);
            // let openWhiskMultiple = [0, 0, 0];
            let openWhiskMultiple = [perSec(0), perSec(142), perSec(561)]; // Dummy
            openWhiskMultiple[3] = avg(openWhiskMultiple);
            renderChart("#chart-2", fissionMultiple, knativeMultiple, nuclioMultiple, openFaaSMultiple, openWhiskMultiple);
        }
        if (myParam === "3") {
            $('#title').html('Thumbnail');
            $('#page'+myParam).addClass('current');
            let fissionSingle = [perSec(37816), perSec(36909), perSec(35640)];
            fissionSingle[3] = avg(fissionSingle);
            // let knativeSingle = [0, 0, 0];
            let knativeSingle = [perSec(66920), perSec(69183), perSec(88359)]; // Dummy
            knativeSingle[3] = avg(knativeSingle);
            let nuclioSingle = [perSec(2937), perSec(2062), perSec(1455)];
            nuclioSingle[3] = avg(nuclioSingle);
            let openFaaSSingle = [perSec(5358), perSec(5339), perSec(321)];
            openFaaSSingle[3] = avg(openFaaSSingle);
            let openWhiskSingle = [perSec(0), perSec(0), perSec(0)];
            openWhiskSingle[3] = avg(openWhiskSingle);
            renderChart("#chart-1", fissionSingle, knativeSingle, nuclioSingle, openFaaSSingle, openWhiskSingle);
            let fissionMultiple = [perSec(35555), perSec(38979), perSec(37588)];
            fissionMultiple[3] = avg(fissionMultiple);
            // let knativeMultiple = [0, 0, 0];
            let knativeMultiple = [perSec(66920), perSec(69183), perSec(88359)]; // Dummy
            knativeMultiple[3] = avg(knativeMultiple);
            let nuclioMultiple = [perSec(2965), perSec(2003), perSec(1500)];
            nuclioMultiple[3] = avg(nuclioMultiple);
            let openFaaSMultiple = [perSec(0), perSec(0), perSec(0)];
            openFaaSMultiple[3] = avg(openFaaSMultiple);
            let openWhiskMultiple = [perSec(0), perSec(0), perSec(0)];
            openWhiskMultiple[3] = avg(openWhiskMultiple);
            renderChart("#chart-2", fissionMultiple, knativeMultiple, nuclioMultiple, openFaaSMultiple, openWhiskMultiple);
        }
        if (myParam === "4") {
            $('#title').html('Users');
            $('#page'+myParam).addClass('current');
            let fissionSingle = [perSec(58589), perSec(55405), perSec(55583)];
            fissionSingle[3] = avg(fissionSingle);
            // let knativeSingle = [0, 0, 0];
            let knativeSingle = [perSec(39865), perSec(35591), perSec(63316)]; // Dummy
            knativeSingle[3] = avg(knativeSingle);
            let nuclioSingle = [perSec(3399), perSec(1922), perSec(1403)];
            nuclioSingle[3] = avg(nuclioSingle);
            let openFaaSSingle = [perSec(12949), perSec(13516), perSec(13524)];
            openFaaSSingle[3] = avg(openFaaSSingle);
            let openWhiskSingle = [perSec(0), perSec(0), perSec(0)];
            openWhiskSingle[3] = avg(openWhiskSingle);
            renderChart("#chart-1", fissionSingle, knativeSingle, nuclioSingle, openFaaSSingle, openWhiskSingle);
            let fissionMultiple = [perSec(26727), perSec(28138), perSec(28019)];
            fissionMultiple[3] = avg(fissionMultiple);
            // let knativeMultiple = [0, 0, 0];
            let knativeMultiple = [perSec(39865), perSec(35591), perSec(63316)]; // Dummy
            knativeMultiple[3] = avg(knativeMultiple);
            let nuclioMultiple = [perSec(3427), perSec(1807), perSec(1460)];
            nuclioMultiple[3] = avg(nuclioMultiple);
            let openFaaSMultiple = [perSec(0), perSec(0), perSec(0)];
            openFaaSMultiple[3] = avg(openFaaSMultiple);
            let openWhiskMultiple = [perSec(0), perSec(0), perSec(0)];
            openWhiskMultiple[3] = avg(openWhiskMultiple);
            renderChart("#chart-2", fissionMultiple, knativeMultiple, nuclioMultiple, openFaaSMultiple, openWhiskMultiple);
        }
        function avg(arr) {
            return Math.floor( (arr[0] + arr[1] + arr[2]) / 3 );
        }
        function perSec(val) {
            return Math.floor( val / 300 );
        }
        function renderChart(chartId, fission, knative, nuclio, openFaaS, openWhisk) {
            const options = {
                legend: {
                    offsetY: 10,
                },
                title: {
                    text: "Concurrent Requests",
                    align: 'center',
                    margin: 0,
                    offsetX: 0,
                    offsetY: 320,
                    floating: false,
                    style: {
                        fontSize:  '12px',
                        fontWeight:  'bold',
                        fontFamily:  "Arial",
                        color:  '#263238'
                    },
                },
                colors: ["#2c4e86","#64ab23", "#68468f", "#df8500", "#7a8491"],
                series: [{
                    name: 'Fission',
                    data: fission
                }, {
                    name: 'Knative',
                    data: knative
                }, {
                    name: 'Nuclio',
                    data: nuclio
                }, {
                    name: 'OpenFaaS',
                    data: openFaaS
                }, {
                    name: 'OpenWhisk',
                    data: openWhisk
                }],
                chart: {
                    type: 'bar',
                    height: 350,
                    width: 500,
                },
                plotOptions: {
                    bar: {
                        horizontal: false,
                        columnWidth: '55%',
                        endingShape: 'rounded'
                    },
                },
                dataLabels: {
                    enabled: false
                },
                stroke: {
                    show: true,
                    width: 2,
                    colors: ['transparent']
                },
                xaxis: {
                    categories: ['10', '50', '150', 'Average'],
                },
                yaxis: {
                    title: {
                        text: 'Throughput (RPS)'
                    }
                },
                fill: {
                    opacity: 1
                },
                tooltip: {
                    y: {
                        formatter: function (val) {
                            return val + " Requests"
                        }
                    }
                }
            };
            const chart = new ApexCharts(document.querySelector(chartId), options);
            chart.render();
        }
    </script>
</div>
</body>
</html>